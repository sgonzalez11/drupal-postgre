uuid: 3abe55a1-1064-44b2-b777-47bddd68af71
langcode: en
status: true
dependencies: {  }
_core:
  default_config_hash: AerGFE3sPS6c6qJT569r5gdp1WC40R95MhJNsKs2yQM
id: insurance_quote_flow
label: 'Insurance Quote Flow'
app_group: 0
canvas_height: 900
canvas_width: 800
default_workflow_timeline_stage_count: 5
show_details: true
validated: true
views_attached:
  maestro_entity_identifiers:
    view_machine_name: maestro_entity_identifiers
    view_weight: -10
    view_display: 'taskconsole_display;Task Console Display'
  maestro_completed_tasks:
    view_machine_name: maestro_completed_tasks
    view_weight: -9
    view_display: default;Master
variables:
  initiator:
    variable_id: initiator
    variable_value: '0'
  type_of_quote:
    variable_id: type_of_quote
    variable_value: ''
  workflow_timeline_stage_count:
    variable_id: workflow_timeline_stage_count
    variable_value: ''
  workflow_current_stage:
    variable_id: workflow_current_stage
    variable_value: ''
  workflow_current_stage_message:
    variable_id: workflow_current_stage_message
    variable_value: ''
  quote_submission_username:
    variable_id: quote_submission_username
    variable_value: ''
tasks:
  start:
    id: start
    tasktype: MaestroStart
    label: Start
    nextstep: 'set_quote_type,create_user'
    nextfalsestep: ''
    top: '54'
    left: '13'
    assignby: fixed
    assignto: engine
  end:
    id: end
    tasktype: MaestroEnd
    label: End
    nextstep: ''
    nextfalsestep: ''
    top: '717'
    left: '241'
    assignby: fixed
    assignto: engine
  review_submission:
    id: review_submission
    label: 'Review Quote Submission'
    tasktype: MaestroWebform
    nextstep: initial_quote_check_test
    nextfalsestep: ''
    top: '44'
    left: '390'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      unique_id: submission
      webform_machine_name: home_insurance_quote
      modal: notmodal
      skip_webform_handlers: 1
      webform_nodes_attached_to: none
      use_nodes_attached: 0
      webform_nodes_attached_variable: none
      redirect_to: taskconsole
    assigned: 'user:fixed:admin'
    runonce: false
    handler: ''
    showindetail: true
    notifications:
      notification_assignment: '[maestro:task-url]'
      notification_reminder: ''
      notification_escalation: ''
      reminder_after: 0
      escalation_after: 0
      notification_assignments: 'user:fixed:admin:assignment'
    participate_in_workflow_status_stage: true
    workflow_status_stage_number: 2
    workflow_status_stage_message: 'Review Quote Request'
  set_quote_type:
    id: set_quote_type
    label: 'Set Quote Type'
    tasktype: MaestroSetProcessVariable
    nextstep: and_first_branches
    nextfalsestep: ''
    top: '13'
    left: '141'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      spv:
        variable: type_of_quote
        method: bycontentfunction
        variable_value: 'maestro_webform_spv_fetch_submission_value:submission,insurance_quote_type'
    assigned: ''
    runonce: false
    handler: ''
    showindetail: true
    notifications:
      notification_assignment: null
      notification_reminder: null
      notification_escalation: null
      reminder_after: null
      escalation_after: null
    participate_in_workflow_status_stage: true
    workflow_status_stage_number: 1
    workflow_status_stage_message: 'Processing Type of Request'
  initial_quote_check_test:
    id: initial_quote_check_test
    label: 'Passed Check?'
    tasktype: MaestroIf
    nextstep: branch_on_type
    nextfalsestep: need_more_information
    top: '173'
    left: '517'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      if:
        method: bylasttaskstatus
        variable: initiator
        operator: '='
        variable_value: ''
        status: '1'
    assigned: ''
    runonce: false
    handler: ''
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: null
      notification_reminder: null
      notification_escalation: null
      reminder_after: null
      escalation_after: null
  need_more_information:
    id: need_more_information
    label: 'Need Clarification'
    tasktype: MaestroInteractive
    nextstep: review_submission
    nextfalsestep: ''
    top: '124'
    left: '284'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    handler: maestro_insurance_needs_clarification_form
    data:
      modal: notmodal
      redirect_to: thank-you-for-your-response
    assigned: 'user:fixed:admin,user:variable:quote_submission_username'
    runonce: false
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: "Thank-you for your quote request for Maestro Insurance!  We've had a chance to review your information and one of our agents has a few more questions for you.\n\n<a href=\"[maestro:task-url]\">Click here</a> to log into our system and fill in our extra information request form.\n\nThank you!\n"
      notification_reminder: ''
      notification_escalation: ''
      reminder_after: 0
      escalation_after: 0
      notification_assignments: 'user:variable:quote_submission_username:assignment'
  create_user:
    id: create_user
    label: 'Create User'
    tasktype: MaestroBatchFunction
    nextstep: and_first_branches
    nextfalsestep: ''
    top: '96'
    left: '143'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    handler: maestro_insurance_create_user_from_webform
    assigned: ''
    runonce: false
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: null
      notification_reminder: null
      notification_escalation: null
      reminder_after: null
      escalation_after: null
  and_first_branches:
    id: and_first_branches
    label: 'AND First Branches'
    tasktype: MaestroAnd
    nextstep: review_submission
    nextfalsestep: ''
    top: '51'
    left: '264'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
  branch_on_type:
    id: branch_on_type
    label: 'Branch On Type'
    tasktype: MaestroIf
    nextstep: homeowners_underwriting
    nextfalsestep: automotive_underwriting
    top: '222'
    left: '298'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      if:
        method: byvariable
        variable: type_of_quote
        operator: '='
        variable_value: homeowners
        status: '1'
    assigned: ''
    runonce: false
    handler: ''
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: null
      notification_reminder: null
      notification_escalation: null
      reminder_after: null
      escalation_after: null
  homeowners_passed:
    id: homeowners_passed
    label: 'Passed Homeowners Underwriting?'
    tasktype: MaestroIf
    nextstep: or_policy
    nextfalsestep: clarification_or
    top: '431'
    left: '246'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      if:
        method: bylasttaskstatus
        variable: initiator
        operator: '='
        variable_value: ''
        status: '1'
    assigned: ''
    runonce: false
    handler: ''
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: null
      notification_reminder: null
      notification_escalation: null
      reminder_after: null
      escalation_after: null
  auto_passed:
    id: auto_passed
    label: 'Auto Underwriting Passed?'
    tasktype: MaestroIf
    nextstep: or_policy
    nextfalsestep: clarification_or
    top: '430'
    left: '365'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      if:
        method: bylasttaskstatus
        variable: initiator
        operator: '='
        variable_value: ''
        status: '1'
    assigned: ''
    runonce: false
    handler: ''
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: null
      notification_reminder: null
      notification_escalation: null
      reminder_after: null
      escalation_after: null
  need_underwriting_clarification:
    id: need_underwriting_clarification
    label: 'Need Underwriting Clarification'
    tasktype: MaestroInteractive
    nextstep: branch_on_type
    nextfalsestep: ''
    top: '348'
    left: '524'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    handler: maestro_insurance_needs_clarification_form
    data:
      modal: notmodal
      redirect_to: thank-you-for-your-response
    assigned: 'user:fixed:admin,user:variable:quote_submission_username'
    runonce: false
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: ''
      notification_reminder: ''
      notification_escalation: ''
      reminder_after: 0
      escalation_after: 0
  clarification_or:
    id: clarification_or
    label: 'Need Clarification OR'
    tasktype: MaestroOr
    nextstep: need_underwriting_clarification
    nextfalsestep: ''
    top: '524'
    left: '526'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
  create_policy:
    id: create_policy
    label: 'Create Policy Quote'
    tasktype: MaestroBatchFunction
    nextstep: present_quote
    nextfalsestep: ''
    top: '615'
    left: '76'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    handler: maestro_insurance_create_insurance_quote_content
    assigned: ''
    runonce: false
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: null
      notification_reminder: null
      notification_escalation: null
      reminder_after: null
      escalation_after: null
  homeowners_underwriting:
    id: homeowners_underwriting
    label: 'Homeowners Underwriting'
    tasktype: MaestroWebform
    nextstep: homeowners_passed
    nextfalsestep: ''
    top: '342'
    left: '245'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      unique_id: submission
      webform_machine_name: home_insurance_quote
      modal: notmodal
      skip_webform_handlers: 1
      webform_nodes_attached_to: none
      use_nodes_attached: 0
      webform_nodes_attached_variable: none
      redirect_to: taskconsole
    assigned: 'user:fixed:admin'
    runonce: false
    handler: ''
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: ''
      notification_reminder: ''
      notification_escalation: ''
      reminder_after: 0
      escalation_after: 0
  automotive_underwriting:
    id: automotive_underwriting
    label: 'Automotive Underwriting'
    tasktype: MaestroWebform
    nextstep: auto_passed
    nextfalsestep: ''
    top: '343'
    left: '364'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      unique_id: submission
      webform_machine_name: home_insurance_quote
      modal: notmodal
      skip_webform_handlers: 1
      webform_nodes_attached_to: none
      use_nodes_attached: 0
      webform_nodes_attached_variable: none
      redirect_to: taskconsole
    assigned: 'user:fixed:admin'
    runonce: false
    handler: ''
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: ''
      notification_reminder: ''
      notification_escalation: ''
      reminder_after: 0
      escalation_after: 0
  or_policy:
    id: or_policy
    label: 'Or Create Policy Branches'
    tasktype: MaestroOr
    nextstep: create_policy
    nextfalsestep: ''
    top: '523'
    left: '76'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
  present_quote:
    id: present_quote
    label: 'Present Quote'
    tasktype: MaestroContentType
    nextstep: end
    nextfalsestep: ''
    top: '718'
    left: '77'
    assignby: fixed
    assignto: ''
    raphael: ''
    to: ''
    pointedfrom: ''
    falsebranch: ''
    lines: {  }
    data:
      unique_id: policy-quote
      content_type: policy_quote
      save_edit_later: 1
      redirect_to: /taskconsole
      link_to_edit: 0
      show_maestro_buttons_on_view: 1
      accept_label: 'Accept this quote'
      reject_label: 'Reject this quote'
      accept_reditect_to: /congratulations-on-choosing-maestro-insurance
      reject_redirect_to: /sorry-we-couldnt-help
      accept_redirect_to: /congratulations-on-choosing-maestro-insurance
      supply_maestro_ids_in_url: 0
    handler: 'http://maestro-demo/node/add/policy_quote?maestro=1'
    assigned: 'user:fixed:admin,user:variable:quote_submission_username'
    runonce: false
    showindetail: true
    participate_in_workflow_status_stage: false
    workflow_status_stage_number: 0
    workflow_status_stage_message: ''
    notifications:
      notification_assignment: "Your quote is complete and ready to view. \n\n<a href=\"[site:url][maestro:task-url]\">Click here to log in and view your policy quotation</a>\n\nThank you for your interest in Maestro Insurance."
      notification_reminder: ''
      notification_escalation: ''
      reminder_after: 0
      escalation_after: 0
      notification_assignments: 'user:variable:quote_submission_username:assignment'
